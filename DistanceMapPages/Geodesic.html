<title>Geodesic Transform</title>
<link rel="icon" type="image/x-icon" href="../SiteImages/LazzyIzzi.jpg">
 
<h1>Geodesic Transform and associated plugins</h1> 
<h3>Requires DistanceMapLib.jar</h3> 
<h2><a href="../index.html" target="_self"><em><strong>Home</strong></em></a></h2>
<h3>Geodesic Transform creates 2D and 3D geodesic distance maps by ordered propagation. See the <a href="DistanceMapLib.html" target="_self">DistanceMapLib</a> page for more information.</h3>

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/Geodesic/GeodesicDialog.png" width="300" />
<figcaption><strong>Geodesic Map Dialog</strong></figcaption></figure></center>

<p>Geodesic Distance operates on 2D and 3D images that have been "binarized" into "zero" and "non-zero" components.
Select "Map 0" or "Map !0" to select the component to map.</p>
<p>The "Output" pull down menu provides several options:</p>
<ul>
	<li>3D new Image - creates a 3D GDT new output stack.</li>
	<li>3D in Place - converts the current stack to a 32-bit 3D GDT</li>
	<li>2D new Image - creates a new stack of 32-bit 2D GDTs</li>
	<li>2D in Place - converts the current stack to a new stack of 32-bit 2D GDTs</li>
	<li>2D this slice new image - creates a 2D GDT of the current slice</li>
</ul>
Check the "Use Pixel Sizes" to map in physical pixel size units.  The default is unit pixels.
<p>The "Seed" pull down menu provides several options for the source points:</p>
<ul>
	<li>Left Slice - the GDT seed points are the entire left side of the 3D volume</li>
	<li>Right Slice - </li>
	<li>Top Slice - </li>
	<li>Bottom Slice - </li>
	<li>Front Slice - </li>
	<li>Back Slice - </li>
	<li>Point(s) - Use the ImageJ Roi Point tool to define one or more GDT source points.</li>
</ul>
<p>Select Geodesic Distance or Tortuosity radio button.
<br>For tortuosity from a volume surface, the tortuosity is the GDT distance from the surface divided by the straight line distance from the surface.
<br>For tortuosity from Point(s) sources,the tortuosity is the GDT distance from the nearest source point  divided by the straight line distance from the nearest source point.
<br> Note that the tortuosity using the "Point(s)" option is relatively slow.</p>

Click OK to begin processing.

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/Geodesic/Geodesic Distance_3D_Example.png" width="700" />
<figcaption><strong>Binarized Image(left), Geodesic Map Dialog(center), resulting GDT from left slice(right)</strong></figcaption></figure></center>

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/Geodesic/Tortuosity_3D.png" width="300" />
<figcaption><strong>Tortuosity from left volume face 1(dark blue) to 1.75(white)</strong></figcaption></figure></center>

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/Geodesic/Tortuosity_3D.gif" width="400" />
<figcaption><strong>Tortuosity Visualization</strong> <small>made with Volume Viewer 2.01</small></figcaption></figure></center>

<h3>Geodesic Path 2D </h3>
<p>There is no user dialog for Geodesic Path 2D. It operates on 2D GDT images made with the Geodesic Transform plugin.
<ol>
<li>Select a "binarized" image or stack slice.</li>
<li>Run the Geodesic Transform plugin with one of the 2D options.</li>
<li>Select one or more points in one or more 2D GDT slices.</li>
<li>Run Geodesic Path 2D from the plugins menu.</li>
</ol>
The shortest path from the selected points to the nearest "0" in the GDT will be added to the ROI Manager.
<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/Geodesic/GeodesicPath2D.png" width="600" />
<figcaption><strong>Slice 31 in a binarised Stack with point selection(left), Image after Geodesic Path 2D(center),Roi Manager(right)</strong></figcaption></figure></center>

<h3>Geodesic Path 3D </h3>
<p> Geodesic Path 3D operates on 3D GDT images made with the Geodesic Transform plugin.
<ol>
<li>Select a "binarized" image or stack slice.</li>
<li>Run the Geodesic Transform plugin with one of the 3D options.</li>
<li>Select one or more points in the 3D GDT image.</li>
<li>Run Geodesic Path 3D from the plugins menu.</li>
</ol>
<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/Geodesic/GeodesicPath3DDialog.png" width="300" />
<figcaption><strong>Geodesic Path 3D Dialog</strong></figcaption></figure></center>
The shortest path from the selected points to the nearest "0" in the 3D GDT will be drawn as points. You may need to scroll through the stack to find the path points.
<br>Show Path(s) option creates an new image with the path voxels set to 100 plus the point selection index. The 3D Project plugin is useful for visualizing the path.
<br>Write Path(s) to Roi Manager adds the path points and assigns a hopefully meaningful name to each path.


<h3>Get GDT Path Points </h3>
<p>There is no user dialog for Get GDT Path Points.
<ol>
<li>Run a 2D or 3D geodesic path plugin on a GDT image. The 2D and 3D path plugins only operate on 2D and 3D GDT images respectively.The path point ROIs appear in the ROI manager.</li>
<li>The resulting paths can be applied to any image.</li> 
</ol>
For example, starting with a 3D image of a pore network containing a varying concentration of a substance.
<ol>
<li>Segment the pore network.</li>
<li>Compute the GDT of the network from some source point(s) or volume surface.</li> 
<li>Select test points in the GDT mapped pore network.</li>
<li>Run the shortest path plugin to obtain the shortest paths from the test points through the network to the source point(s) or surface.</li>
<li>Apply a path from the ROI manager to the original image.</li>
<li>Run "Get GDT Path Points" to get the substance concentration along that path.</li>
</ol>

Similarly, the distances along the path can be obtained by applying the ROI manager path to the pore network GDT image.  The concentration can then be plotted as a function of distance. At this writing, this is easily accomplished using a macro.
<br>After the GDT and Geodesic Path plugins have created one or more Rois in the ROI manager...
<br>Example Macro:
<br>
<br>selectWindow("Geodesic Distance_3D");
<br>roiManager("Select", 0);  // Change the 0 index to the path you want to measure
<br>run("Get_Points_And_Values");
<br>Table.rename("Point Value Results", "Distance Results");
<br>selectWindow("DryBereaSandstone-256x256x512.tif"); // obviously your image name goes here
<br>roiManager("Select", 0);  // Change the 0 index to the same path above
<br>run("Get_Points_And_Values");
<br>Table.rename("Point Value Results", "Gray Results");
<br>gray = Table.getColumn("Val","Gray Results");
<br>dist =  Table.getColumn("Val","Distance Results");
<br>Plot.create("Gray Vs Distance","Distance","Gray Level");
<br>Plot.setColor("red","red");
<br>Plot.add("circle",dist,gray);
<br>Plot.show;


<h2><a href="../index.html" target="_self"><em><strong>Home</strong></em></a></h2>
