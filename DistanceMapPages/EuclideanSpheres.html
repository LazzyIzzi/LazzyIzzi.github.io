<title>Euclidean Spheres</title>
<link rel="icon" type="image/x-icon" href="../SiteImages/LazzyIzzi.jpg">

<h1>Euclidean Spheres</h1> 
<h3>Requires ImageJ 1.53k or higher, DistanceMapLib.jar, ImageJAddins.jar.</h3> 
<br>See the Home page for CT_Tools download and installation instructions.

<h2><a href="../index.html" target="_self"><em><strong>Home</strong></em></a></h2>
<h3>This draws filled Euclidean Spheres centered at a pixel location.</h3>

<p>Voxels within a Euclidean sphere of radius R are defined on a Cartesian grid as &radic;(x<sup>2</sup>+y<sup>2</sup>+z<sup>2</sup>) &lt; R where R is the distance to the center of the neighboring voxel.&nbsp; Euclidean spheres can be used to restore a 3D shape from its medial surface (thinning the medial surface to a medial axis  is a lossy process and is not reversible by sphere drawing). Euclidean spheres are also useful in constructing random porous media.</p>

<p>The Euclidean Spheres plugin operates on 3D images with symmetric or asymmetric voxels. The sphere radius is in image units. The drawn sphere surface is not drawn with sub-voxel resolution, i.e. if a voxel's distance from the origin pixel is greater than R it is not filled. A sphere that has an origin outside of the volume will be clipped, showing only the portion within the volume.

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/EuclideanSpheres/DrawSphereDialog.png" width="400" />
<figcaption><strong>Single Sphere Drawing Dialog</strong></figcaption></figure></center>

The voxels in the image below are 1cm in the horizontal X direction and are 0.5cm in the vertical Y direction. The image below is 100x50cm and the sphere is 20cm in diameter but appears elongated in the Y direction<sup>1</sup>. ImageJ shows the XY plane with square pixels.

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/EuclideanSpheres/AssymetricSphere.png" width="300" />
<figcaption><strong>Sphere in pixel coordinates</strong></figcaption></figure></center>

<p>Similarly, the Overlapping Spheres plugin operates on 3D images with symmetric or asymmetric voxels and the sphere radius is in image units. It draws overlapping spheres with random radii at random locations to a required volume fraction. Random locations are seeded with the last 5 digits of the system millisecond clock so they are unlikely to repeat very often. High volume fractions may fail with an error message if the plugin cannot find an unfilled location to draw the next sphere.

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/EuclideanSpheres/DrawRandomSphereDialog.png" width="300" />
<figcaption><strong>Overlapping Sphere Drawing Dialog</strong></figcaption></figure></center>

The voxels in the image are 1cm in the horizontal X direction and are 1.2cm in the vertical Y direction. The projection below is 100x120cm and the spheres appear elongated in the X direction.

<center><figure class="easyimage easyimage-full"><img alt="" src="../DistanceMapImages/EuclideanSpheres/ProjectionsRandomSpheresInv.gif" width="400" />
<figcaption><strong>Spheres in pixel coordinates</strong></figcaption></figure></center>

<small>1. During testing it was observed that the ImageJ Version 1.53k "Orthogonal Views" plugin has a bug that causes small spheres to be drawn incorrectly in orthogonal slices.</small>

<h2><a href="../index.html" target="_self"><em><strong>Home</strong></em></a></h2>
