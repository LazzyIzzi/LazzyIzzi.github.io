<title>Linearization</title>
<link rel="icon" type="image/x-icon" href="Images/Index/LazzyIzzi.jpg">

<h2>Linearization</h2>

<h3>Requires ImageJ 1.53k or higher. See the Home page for CT_Tools download and installation instructions.</h3>


<h2>
	<a href="index.html" target="_self"><em><strong>Home</strong></em></a>
</h2>

<h3>A pair of plugins for correction of beam hardening
	artifacts in reconstructed CT slices using a model-based linearization.</h3>
See the
<a href="LinearizationTutorial.html" target="_self">Linearization
	Tutorial</a>
page for a brief description of the process.
<br>
See the
<a href="MaterialTagger.html" target="_self">Material Tagger</a>
page for creating Tag Images.
<br>
See the <a href="LinearizationExample.html"
		target="_self">Linearization Example</a> page for examples of linearization using CT_Recon slider and the
		Linearization Fitter.
<center>
	<figure class="easyimage easyimage-full">
		<img alt="" src="Images/Linearization/LinearizationFitsAndApply.png"
			width="500" />
		<figcaption>
			<strong>Linearize Fitter (left) and Apply (right)</strong>
		</figcaption>
	</figure>
</center>

<h3>Step 1. Linearization Fitter(left)</h3>
<ul>
	<li>CT Slice - select the beam-hardened slice to be corrected.</li>
	<li>Tag Image - Select the <a href="MaterialTagger.html"
		target="_self">Tag Image</a> model for correcting the CT slice.
	</li>
	<li>Est. keV - Enter an estimate of the effective X-ray energy for
		the CT Slice.</li>
	<li>Update - Click to display a plot of the Slice vs Model
		attenuations and polynomial fits at the entered X-ray energy.</li>
</ul>
Adjust the Est.keV followed by Update to optimize R^2 of the fit. Click
OK when done. Do not delete the Fit Parameters window.

<center>
	<figure class="easyimage easyimage-full">
		<img alt="" src="Images/Linearization/LinearizationPlot.png"
			width="500" />
		<figcaption>
			<strong>Linearize Fit Plot</strong>
		</figcaption>
	</figure>
</center>
<center>
	<figure class="easyimage easyimage-full">
		<img alt="" src="Images/Linearization/LinearizationFits.png"
			width="500" />
		<figcaption>
			<strong>Linearize Fits</strong>
		</figcaption>
	</figure>
</center>

<h3>Step 2. Apply Linearization(right)</h3>
<ul>
	<li>Sinogram Choice - select the sinogram used to reconstruct the
		beam-hardened slice.</li>
	<li>Results Choice - Select the Fit Parameters Results window.</li>
	<li>Fit Choice - Select the polynomial to apply to the sinogram. The fit coefficients will be imported from the Fit Parameters window.</li>
	<li>A0 to A6 - Edit the polynomial coefficients if needed.</li>
	<li>Use Scale Factor - Check this box if your sinogram has been
		scaled from 32 to 16bit</li>
	<li>Scale Factor - Enter the factor used to scale the sinogram.
		Ignored if Use is not checked.</li>
	<li>Create new image -recommended, otherwise the original sinogram
		will be overwritten..</li>
</ul>
Click OK to apply the correction to the sinogram. Reconstruct and
observe the result. Check the consistency of the reconstructed
attenuations using the
<a href="XrayLookupMuLin.html" target="_self">Xray Lookup MuLin</a>
and
<a href="XrayLookupRatio.html" target="_self">Xray Lookup Ratio</a>
plugins. The X-ray energies reported from the corrected attenuations
should be approximately the same. Remember that the correction
polynomial is a "fit" to the observed data. If there is a lot of scatter
around the fit then the corrected attenuations will be less accurate.

<h2>
	<a href="index.html" target="_self"><em><strong>Home</strong></em></a>
</h2>

